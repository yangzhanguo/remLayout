<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>remInit</title>
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <script>
        (function(win){
            var docEl = win.document.documentElement;
            var b = docEl.getBoundingClientRect().width;
            var c = win.devicePixelRatio;
            var max = 640;
            var base = 16;
            b / c > max && (b = max * c);
            docEl.rem = b / base;
            docEl.style.fontSize = docEl.rem*c + "px";
            docEl.setAttribute('data-dpr', c);
            document.querySelector('meta[name=viewport]').setAttribute('content', 'width=device-width, user-scalable=no, initial-scale='+1/c+', maximum-scale='+1/c+', minimum-scale='+1/c);
        })(window);
    </script>
    <style>
        .g-layout{max-width: 16rem;margin: 0 auto;}
        #demo{height: 1rem;background: #ddd;}
    </style>
</head>
<body>
    <div class="g-layout">
        <div id="demo"></div>    
    </div>    
</body>
</html>
